---
import Layout from "../layouts/Layout.astro"
if(Astro.request.method === "POST"){
     const formData = await Astro.request.formData();
     const title = formData.get("title")
     const desc = formData.get("desc")
     const data = {title, desc}
    //  console.log(data)

    const res = await fetch("http://localhost:3211/", {
        method: "POST",
        body: JSON.stringify(data),
        headers:{
            "Content-Type":"application/json",
        }
    })
}
---

<Layout title="Create A Post">
    <main>
        <h1>Create A <span class="text-gradient">Post</span></h1>
        <div class="container">
            <form method="POST">
                <input placeholder="masukkan judul..." name="title"/>
                <input placeholder="masukkan deskripsi..." name="desc" />
                <button type="submit">Create Post</button>
            </form>
        </div>
    </main>
</Layout>

<style>
    main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}
    h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}
    .text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
    .container{
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
    }
    input{
        padding: 2px 4px;
        width: 50%;
    }
    button{
        padding: 2px 4px;
        border: none;
        background-color: blue;
        color: white;
        width: 20%;
        cursor: pointer;
    }
    form{
        display: flex;
        gap: 8px;
        width: 500px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
</style>